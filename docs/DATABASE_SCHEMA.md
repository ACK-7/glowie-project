# ShipWithGlowie Auto - Database Schema

## Overview

This document describes the database schema for the ShipWithGlowie Auto platform.

## Tables

### users
- id (BIGINT, PRIMARY KEY)
- first_name (VARCHAR)
- last_name (VARCHAR)
- email (VARCHAR, UNIQUE)
- phone (VARCHAR)
- password_hash (VARCHAR)
- role (ENUM)
- country (VARCHAR)
- city (VARCHAR)
- address (TEXT)
- profile_image_url (VARCHAR)
- is_verified (BOOLEAN)
- is_active (BOOLEAN)
- created_at (TIMESTAMP)
- updated_at (TIMESTAMP)
- deleted_at (TIMESTAMP)

### vehicles
- id (BIGINT, PRIMARY KEY)
- vehicle_type_id (BIGINT)
- make (VARCHAR)
- model (VARCHAR)
- year (INT)
- color (VARCHAR)
- vin (VARCHAR, UNIQUE)
- license_plate (VARCHAR)
- engine_type (ENUM)
- transmission (ENUM)
- weight (DECIMAL)
- height (DECIMAL)
- length (DECIMAL)
- width (DECIMAL)
- description (TEXT)
- is_running (BOOLEAN)
- created_at (TIMESTAMP)

### routes
- id (BIGINT, PRIMARY KEY)
- origin_country (VARCHAR)
- origin_city (VARCHAR)
- destination_country (VARCHAR)
- destination_city (VARCHAR)
- base_price (DECIMAL)
- estimated_days (INT)
- is_active (BOOLEAN)
- created_at (TIMESTAMP)
- updated_at (TIMESTAMP)

### quotes
- id (BIGINT, PRIMARY KEY)
- user_id (BIGINT, FK)
- vehicle_id (BIGINT, FK)
- route_id (BIGINT, FK)
- origin_country (VARCHAR)
- origin_city (VARCHAR)
- destination_country (VARCHAR)
- destination_city (VARCHAR)
- base_price (DECIMAL)
- insurance_price (DECIMAL)
- services_price (DECIMAL)
- total_price (DECIMAL)
- estimated_days (INT)
- currency (VARCHAR)
- is_converted (BOOLEAN)
- status (ENUM)
- expires_at (TIMESTAMP)
- created_at (TIMESTAMP)
- updated_at (TIMESTAMP)

### bookings
- id (BIGINT, PRIMARY KEY)
- user_id (BIGINT, FK)
- quote_id (BIGINT, FK)
- vehicle_id (BIGINT, FK)
- reference_number (VARCHAR, UNIQUE)
- pickup_date (DATE)
- delivery_date_estimated (DATE)
- delivery_date_actual (DATE)
- status (ENUM)
- special_instructions (TEXT)
- recipient_name (VARCHAR)
- recipient_phone (VARCHAR)
- recipient_email (VARCHAR)
- recipient_country (VARCHAR)
- recipient_city (VARCHAR)
- recipient_address (TEXT)
- created_at (TIMESTAMP)
- updated_at (TIMESTAMP)

### shipments
- id (BIGINT, PRIMARY KEY)
- booking_id (BIGINT, FK)
- container_number (VARCHAR)
- vessel_name (VARCHAR)
- vessel_imo (VARCHAR)
- port_of_loading (VARCHAR)
- port_of_discharge (VARCHAR)
- actual_departure (DATE)
- estimated_arrival (DATE)
- actual_arrival (DATE)
- current_location (VARCHAR)
- current_latitude (DECIMAL)
- current_longitude (DECIMAL)
- status (ENUM)
- customs_status (ENUM)
- last_update (TIMESTAMP)
- created_at (TIMESTAMP)

### documents
- id (BIGINT, PRIMARY KEY)
- booking_id (BIGINT, FK)
- user_id (BIGINT, FK)
- document_type (ENUM)
- file_name (VARCHAR)
- file_path (VARCHAR)
- file_size (INT)
- file_mime_type (VARCHAR)
- verification_status (ENUM)
- verification_notes (TEXT)
- verified_by (BIGINT, FK)
- verified_at (TIMESTAMP)
- ocr_data (JSON)
- is_required (BOOLEAN)
- created_at (TIMESTAMP)
- updated_at (TIMESTAMP)

### payments
- id (BIGINT, PRIMARY KEY)
- booking_id (BIGINT, FK)
- user_id (BIGINT, FK)
- amount (DECIMAL)
- currency (VARCHAR)
- payment_method (ENUM)
- transaction_id (VARCHAR, UNIQUE)
- reference_number (VARCHAR)
- status (ENUM)
- payment_gateway (ENUM)
- metadata (JSON)
- created_at (TIMESTAMP)
- updated_at (TIMESTAMP)

### chat_messages
- id (BIGINT, PRIMARY KEY)
- user_id (BIGINT, FK)
- message_text (TEXT)
- sender_type (ENUM)
- is_resolved (BOOLEAN)
- session_id (VARCHAR)
- ai_response (TEXT)
- confidence_score (DECIMAL)
- created_at (TIMESTAMP)
- updated_at (TIMESTAMP)

### notifications
- id (BIGINT, PRIMARY KEY)
- user_id (BIGINT, FK)
- type (ENUM)
- title (VARCHAR)
- message (TEXT)
- related_booking_id (BIGINT)
- is_read (BOOLEAN)
- notification_channel (ENUM)
- sent_at (TIMESTAMP)
- created_at (TIMESTAMP)

## Indexes

All foreign keys have corresponding indexes for performance.
Status columns are indexed for filtering operations.
